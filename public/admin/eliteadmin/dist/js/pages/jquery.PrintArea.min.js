!function(a){var r=0,n="iframe",o="popup",t="loose",e="html5",i={mode:n,standard:e,popHt:500,popWd:400,popX:200,popY:200,popTitle:"",popClose:!1,extraCss:"",extraHead:"",retainAttr:["id","class","style"]},c={};a.fn.printArea=function(t){a.extend(c,i,t),r++;var e="printArea_";a("[id^="+e+"]").remove(),c.id=e+r;var n=a(this),o=d.getPrintWindow();d.write(o.doc,n),setTimeout(function(){d.print(o)},1e3)};var d={print:function(t){var e=t.win;a(t.doc).ready(function(){e.focus(),e.print(),c.mode==o&&c.popClose&&setTimeout(function(){e.close()},2e3)})},write:function(t,e){t.open(),t.write(d.docType()+"<html>"+d.getHead()+d.getBody(e)+"</html>"),t.close()},docType:function(){return c.mode==n?"":c.standard==e?"<!DOCTYPE html>":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+(c.standard==t?" Transitional":"")+'//EN" "http://www.w3.org/TR/html4/'+(c.standard==t?"loose":"strict")+'.dtd">'},getHead:function(){var e="",n="";return c.extraHead&&c.extraHead.replace(/([^,]+)/g,function(t){e+=t}),a(document).find("link").filter(function(){var t=a(this).attr("rel");return"undefined"===a.type(t)==0&&"stylesheet"==t.toLowerCase()}).filter(function(){var t=a(this).attr("media");return"undefined"===a.type(t)||""==t||"print"==t.toLowerCase()||"all"==t.toLowerCase()}).each(function(){n+='<link type="text/css" rel="stylesheet" href="'+a(this).attr("href")+'" >'}),c.extraCss&&c.extraCss.replace(/([^,\s]+)/g,function(t){n+='<link type="text/css" rel="stylesheet" href="'+t+'">'}),"<head><title>"+c.popTitle+"</title>"+e+n+"</head>"},getBody:function(t){var r="",i=c.retainAttr;return t.each(function(){for(var t=d.getFormData(a(this)),e="",n=0;n<i.length;n++){var o=a(t).attr(i[n]);o&&(e+=(0<e.length?" ":"")+i[n]+"='"+o+"'")}r+="<div "+e+">"+a(t).html()+"</div>"}),"<body>"+r+"</body>"},getFormData:function(t){var e=t.clone(),o=a("input,select,textarea",e);return a("input,select,textarea",t).each(function(t){var e=a(this).attr("type");"undefined"===a.type(e)&&(e=a(this).is("select")?"select":a(this).is("textarea")?"textarea":"");var n=o.eq(t);"radio"==e||"checkbox"==e?n.attr("checked",a(this).is(":checked")):"text"==e?n.attr("value",a(this).val()):"select"==e?a(this).find("option").each(function(t){a(this).is(":selected")&&a("option",n).eq(t).attr("selected",!0)}):"textarea"==e&&n.text(a(this).val())}),e},getPrintWindow:function(){switch(c.mode){case n:var t=new d.Iframe;return{win:t.contentWindow||t,doc:t.doc};case o:var e=new d.Popup;return{win:e,doc:e.doc}}},Iframe:function(){var t,e=c.id;try{t=document.createElement("iframe"),document.body.appendChild(t),a(t).attr({style:"border:0;position:absolute;width:0px;height:0px;right:0px;top:0px;",id:e,src:"#"+(new Date).getTime()}),t.doc=null,t.doc=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:t.document}catch(t){throw t+". iframes may not be supported in this browser."}if(null==t.doc)throw"Cannot find document.";return t},Popup:function(){var t="location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no";t+=",width="+c.popWd+",height="+c.popHt,t+=",resizable=yes,screenX="+c.popX+",screenY="+c.popY+",personalbar=no,scrollbars=yes";var e=window.open("","_blank",t);return e.doc=e.document,e}}}(jQuery);